"use strict";(self.webpackChunkmobilecourse=self.webpackChunkmobilecourse||[]).push([[854],{4977:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>d});var t=s(5893),a=s(1151);const c={title:"Contacts",sidebar_position:4},o=void 0,i={id:"ExpoSDK/contacts",title:"Contacts",description:"EXPO Contacts",source:"@site/docs/ExpoSDK/contacts.md",sourceDirName:"ExpoSDK",slug:"/ExpoSDK/contacts",permalink:"/mobilecourse/docs/ExpoSDK/contacts",draft:!1,unlisted:!1,editUrl:"https://github.com/haagahelia/mobileprogramming.git/docs/ExpoSDK/contacts.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Contacts",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Camera",permalink:"/mobilecourse/docs/ExpoSDK/camera"},next:{title:"UI Libraries",permalink:"/mobilecourse/docs/category/ui-libraries"}},r={},d=[{value:"EXPO Contacts",id:"expo-contacts",level:3},{value:"EXPO SMS",id:"expo-sms",level:3}];function l(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"expo-contacts",children:"EXPO Contacts"}),"\n",(0,t.jsxs)(n.p,{children:["EXPO Contacts (",(0,t.jsx)(n.a,{href:"https://docs.expo.dev/versions/latest/sdk/contacts/",children:"https://docs.expo.dev/versions/latest/sdk/contacts/"}),") can be used to get access your device\u2019s contacts. First, you have to install ",(0,t.jsx)(n.code,{children:"expo-contacts"})," using the following command in your app directory."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx expo install expo-contacts \n"})}),"\n",(0,t.jsx)(n.p,{children:"In the following example, we create an app that fetch phone number from the contacts and send sms message to this number."}),"\n",(0,t.jsxs)(n.p,{children:["First, we have to import the ",(0,t.jsx)(n.code,{children:"expo-contacts"})," and ",(0,t.jsx)(n.code,{children:"expo-sms"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import * as Contacts from 'expo-contacts';\nimport * as SMS from 'expo-sms';\n"})}),"\n",(0,t.jsx)(n.p,{children:"Next, we check permission to be able to access the device\u2019s contacts."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { status } = await Contacts.requestPermissionsAsync();\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If the permission exists, the status value is ",(0,t.jsx)(n.code,{children:"granted"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"if (status === 'granted') {\n  // Access contacts\xa0\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"getContactsAsync(query)"})," method is used to get contacts from your device and it is asynchronous. It returns an array of contact objects."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const getContacts = async () => {\n  const { status } = await Contacts.requestPermissionsAsync();\n  if (status === 'granted') {\n    const { data } = await Contacts.getContactsAsync(\n      { fields: [Contacts.Fields.PhoneNumbers] }\n    );\n   }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In the function's ",(0,t.jsx)(n.code,{children:"query"})," argument we define that we want to get phone numbers. You can also use for example, ",(0,t.jsx)(n.code,{children:"Contacts.Fields.Emails"})," to get email addresses. Then, we can check if there are contacts available, and save the first contact object to a state."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const [contact, setContact] = useState({});\n\nconst getContacts = async () => {\n  const { status } = await Contacts.requestPermissionsAsync();\n  if (status === 'granted') {\n    const\xa0{ data } = await Contacts.getContactsAsync(\n      { fields: [Contacts.Fields.PhoneNumbers] }\n    );\n    if (data.length > 0) {\n      setContact(data[0]);\n    }\n  }\n}\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"Contact object looks the following (Android)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'Object {\n  "contactType": "person",\n  "firstName": "Juha",\n  "id": "1",\n  "imageAvailable": false,\n  "lastName": "Hinkula",\n  "lookupKey": "0r1-3B5137293739433D513F29",\n  "name": "Juha Hinkula",\n  "phoneNumbers": Array [\n    Object {\n      "id": "1",\n      "isPrimary": 0,\n      "label": "mobile",\n      "number": "1 234-566-985",\n      "type": "2",\n    },\n  ],\n}\n\n'})}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.code,{children:"return"})," statement, we add the ",(0,t.jsx)(n.code,{children:"Button"})," and ",(0,t.jsx)(n.code,{children:"Text"})," components. The button invokes the ",(0,t.jsx)(n.code,{children:"getContacts"})," function and the name of the first contact is shown in the ",(0,t.jsx)(n.code,{children:"Text"})," component."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'return (\n  <View style={styles.container}>\n    <Text>{contact.name}</Text>\n    <Button title="Get Contact" onPress={getContacts} />\n  </View>\n);\n'})}),"\n",(0,t.jsx)(n.p,{children:"Now, You should see the first contact\u2019s name when you press the button."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(5408).Z+"",width:"163",height:"106"})}),"\n",(0,t.jsx)(n.h3,{id:"expo-sms",children:"EXPO SMS"}),"\n",(0,t.jsxs)(n.p,{children:["EXPO SMS (",(0,t.jsx)(n.a,{href:"https://docs.expo.dev/versions/latest/sdk/sms/",children:"https://docs.expo.dev/versions/latest/sdk/sms/"}),") can be used to get access to device\u2019s SMS messages. You can install it by typing the following command in your app directory."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx expo install expo-sms \n"})}),"\n",(0,t.jsxs)(n.p,{children:["Next, we will implement function to send SMS message to the contact.\nThe ",(0,t.jsx)(n.code,{children:"isAvailableAsync()"})," method can be used to check if SMS is available in a device."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const sendSms = async () => {\n  const isSMSAvailable = await SMS.isAvailableAsync();\n  \n  if (isSMSAvailable) {\n    // Send a message\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The SMS message can be sent using the ",(0,t.jsx)(n.code,{children:"sendSMSAsync()"})," method. The first argument is an array of phone numbers and the second argument is a message."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const sendSms = async () => {\n  const isSMSAvailable = await SMS.isAvailableAsync();\n\n  if (isSMSAvailable && contact.phoneNumbers.length > 0) {\n    const { result } = await SMS.sendSMSAsync([contact.phoneNumbers[0].number], \n      'Hello ' + contact.name);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Finally, we add a button to send SMS message."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'return (\n  <View style={styles.container}>\n    <Text>{contact.name}</Text>\n    <Button title="Get Contact" onPress={getContacts} />\n    <Button title="Send SMS" onPress={sendSms} />\n  </View>\n);\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(9947).Z+"",width:"305",height:"610"})})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},5408:(e,n,s)=>{s.d(n,{Z:()=>t});const t="data:image/png;base64,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"},9947:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/sms-015d241999ef7dd4599bfbc4191a41cd.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>o});var t=s(7294);const a={},c=t.createContext(a);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);